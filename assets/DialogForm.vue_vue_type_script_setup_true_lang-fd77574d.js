import{d as T,r as u,N as p,h as i,o as F,e as R,w as t,a as l,i as m,t as y,M as r}from"./index-651853eb.js";const A=T({__name:"DialogForm",props:{visible:{type:Boolean,default:!1},data:Object},emits:["update:visible"],setup(M,{emit:I}){const f={name:"",status:"",description:"",type:"",mark:"",amount:0,mainImg:void 0,dollImgs:void 0},z=u(),$=u(),k=u({closeOnEscKeydown:!1}),g=u({size:500,unit:"KB"}),v=M,n=u(!1),o=u({...f}),c=({file:e})=>{r.error(`文件 ${e.name} 上传失败`)},U=({validateResult:e,firstError:a})=>{a?(console.log("Errors: ",e),r.warning(a)):(r.success("提交成功"),n.value=!1)},C=()=>{n.value=!1,o.value={...f}},h=I;p(()=>n.value,e=>{h("update:visible",e)}),p(()=>v.visible,e=>{n.value=e}),p(()=>v.data,e=>{o.value=e});const B={name:[{required:!0,message:"请输入产品名称",type:"error"}]};return(e,a)=>{const b=i("t-input"),d=i("t-form-item"),_=i("t-radio"),D=i("t-radio-group"),V=i("t-upload"),w=i("t-button"),N=i("t-form"),S=i("t-dialog");return F(),R(S,{visible:n.value,"onUpdate:visible":a[5]||(a[5]=s=>n.value=s),header:e.$t("pages.dollModel.create"),width:680,footer:!1},{body:t(()=>[l(N,{ref:"form",data:o.value,rules:B,"label-width":100,onSubmit:U},{default:t(()=>[l(d,{label:e.$t("pages.dollModel.dollName"),name:"name"},{default:t(()=>[l(b,{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.name=s),style:{width:"480px"}},null,8,["modelValue"])]),_:1},8,["label"]),l(d,{label:e.$t("pages.dollModel.dollStatus"),name:"status"},{default:t(()=>[l(D,{modelValue:o.value.status,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.status=s)},{default:t(()=>[l(_,{value:"0"},{default:t(()=>[m(y(e.$t("pages.dollModel.dollStatusEnum.off")),1)]),_:1}),l(_,{value:"1"},{default:t(()=>[m(y(e.$t("pages.dollModel.dollStatusEnum.on")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(d,{label:e.$t("pages.dollModel.dollDescription"),name:"description"},{default:t(()=>[l(b,{modelValue:o.value.description,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value.description=s),style:{width:"480px"}},null,8,["modelValue"])]),_:1},8,["label"]),l(d,{label:e.$t("pages.dollModel.dallMainImg"),name:"type"},{default:t(()=>[l(V,{ref_key:"uploadRef1",ref:z,modelValue:o.value.mainImg,"onUpdate:modelValue":a[3]||(a[3]=s=>o.value.mainImg=s),"image-viewer-props":k.value,"size-limit":g.value,action:"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",theme:"image",accept:"image/*",disabled:!1,"auto-upload":!0,"upload-all-files-in-one-request":!0,locale:{triggerUploadText:{image:"请选择图片"}},onFail:c},null,8,["modelValue","image-viewer-props","size-limit"])]),_:1},8,["label"]),l(d,{label:e.$t("pages.dollModel.dallImages"),name:"mark"},{default:t(()=>[l(V,{ref_key:"uploadRef2",ref:$,modelValue:o.value.dollImgs,"onUpdate:modelValue":a[4]||(a[4]=s=>o.value.dollImgs=s),action:"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",theme:"image",tips:e.$t("pages.dollModel.imageTips"),accept:"image/*","size-limit":g.value,"auto-upload":"","upload-all-files-in-one-request":"",multiple:"",max:5,onFail:c},null,8,["modelValue","tips","size-limit"])]),_:1},8,["label"]),l(d,{style:{float:"right"}},{default:t(()=>[l(w,{variant:"outline",onClick:C},{default:t(()=>[m("取消")]),_:1}),l(w,{theme:"primary",type:"submit"},{default:t(()=>[m("确定")]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])}}});export{A as _};
