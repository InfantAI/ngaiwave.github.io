import{u as $}from"./index-b9ed1fe3.js";import{d as A,r as _,h as r,o as f,e as v,w as o,a as t,I as k,u as g,i as u,t as C,b as h,n as B,M as x,p as M,f as L,g as P}from"./index-651853eb.js";const b=i=>(M("data-v-4e80e612"),i=i(),L(),i),E=b(()=>h("span",null,"TDesign服务协议",-1)),F=b(()=>h("span",null,"TDesign 隐私声明",-1)),O={class:"switch-container"},j=A({__name:"Register",emits:["registerSuccess"],setup(i,{emit:D}){const I={phone:"",email:"",password:"",verifyCode:"",checked:!1},S={phone:[{required:!0,message:"手机号必填",type:"error"}],email:[{required:!0,message:"邮箱必填",type:"error"},{email:!0,message:"请输入正确的邮箱",type:"warning"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},l=_("phone"),V=_(),a=_({...I}),d=_(!1),[y,T]=$(),z=D,R=p=>{if(p.validateResult===!0){if(!a.value.checked){x.error("请同意TDesign服务协议和TDesign 隐私声明");return}x.success("注册成功"),z("registerSuccess")}},U=p=>{V.value.reset(),l.value=p};return(p,e)=>{const m=r("t-icon"),c=r("t-input"),n=r("t-form-item"),w=r("t-button"),N=r("t-checkbox"),q=r("t-form");return f(),v(q,{ref_key:"form",ref:V,class:B(["item-container",`register-${l.value}`]),data:a.value,rules:S,"label-width":"0",onSubmit:R},{default:o(()=>[l.value=="phone"?(f(),v(n,{key:0,name:"phone"},{default:o(()=>[t(c,{modelValue:a.value.phone,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.phone=s),maxlength:11,size:"large",placeholder:"请输入您的手机号"},{"prefix-icon":o(()=>[t(m,{name:"user"})]),_:1},8,["modelValue"])]),_:1})):k("",!0),l.value=="email"?(f(),v(n,{key:1,name:"email"},{default:o(()=>[t(c,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.email=s),type:"text",size:"large",placeholder:"请输入您的邮箱"},{"prefix-icon":o(()=>[t(m,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):k("",!0),t(n,{name:"password"},{default:o(()=>[t(c,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password=s),size:"large",type:d.value?"text":"password",clearable:"",placeholder:"请输入登录密码"},{"prefix-icon":o(()=>[t(m,{name:"lock-on"})]),"suffix-icon":o(()=>[t(m,{name:d.value?"browse":"browse-off",onClick:e[2]||(e[2]=s=>d.value=!d.value)},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),l.value=="phone"?(f(),v(n,{key:2,class:"verification-code",name:"verifyCode"},{default:o(()=>[t(c,{modelValue:a.value.verifyCode,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.verifyCode=s),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),t(w,{variant:"outline",disabled:g(y)>0,onClick:g(T)},{default:o(()=>[u(C(g(y)==0?"发送验证码":`${g(y)}秒后可重发`),1)]),_:1},8,["disabled","onClick"])]),_:1})):k("",!0),t(n,{class:"check-container",name:"checked"},{default:o(()=>[t(N,{modelValue:a.value.checked,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.checked=s)},{default:o(()=>[u("我已阅读并同意 ")]),_:1},8,["modelValue"]),u(),E,u(" 和 "),F]),_:1}),t(n,null,{default:o(()=>[t(w,{block:"",size:"large",type:"submit"},{default:o(()=>[u(" 注册 ")]),_:1})]),_:1}),h("div",O,[h("span",{class:"tip",onClick:e[6]||(e[6]=s=>U(l.value=="phone"?"email":"phone"))},C(l.value=="phone"?"使用邮箱注册":"使用手机号注册"),1)])]),_:1},8,["class","data"])}}});const J=P(j,[["__scopeId","data-v-4e80e612"]]);export{J as default};
